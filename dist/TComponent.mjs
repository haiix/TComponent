var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{mT:()=>j,sV:()=>A,zj:()=>T,JU:()=>s,n:()=>v,F5:()=>m,Ay:()=>x,h0:()=>b,Tn:()=>r,Gv:()=>o,fX:()=>w,zp:()=>d,Zq:()=>h,QC:()=>l,st:()=>i,rE:()=>n,ek:()=>f});const n="1.1.2";function o(t){return"object"==typeof t&&null!==t}function r(t){return"function"==typeof t}function s(){return Object.create(null)}function i(t){return t.filter((t=>null!=t))}function c(...t){return new Function(...t)}function a(t,e,n,o){let r=n;const s=e.exec(t);if(!s)throw new Error(`Unexpected end of source at position ${e.lastIndex}`);const[,i,c,a,l,u,f]=s;if(null!=i)r.c.push(i);else if(null!=c)r=function(t,e,n,o){if(!e||"string"==typeof e)throw new Error(`No opening tag for closing tag </${n}> at position ${o}`);if(t.t!==n)throw new Error(`Tag mismatch: opened <${t.t}> but closed </${n}> at position ${o}`);return e}(r,o.pop(),c,e.lastIndex);else if(null!=a&&null!=l){const t=function(t,e){const n={t,a:{},c:[]},o=/\s+([^\s=>]+)(?:="([^"]*)"|='([^']*)'|(=))?/suy;let r;for(;r=o.exec(e);){const[,t,e,o,s]=r;if(s)throw new Error(`Invalid attribute value at position ${r.index+1}`);t&&(n.a[t]=e??o??t)}return n}(a,l);r.c.push(t),""===u&&(o.push(r),r=t)}else if(null!=f){const t=f.trim();t&&r.c.push(t)}return r}function l(t){const e={t:"root",a:{},c:[]};!function(t,e){const n=/<!--.*?-->|<!\[CDATA\[(.*?)\]\]>|<\/([^>\s]+)\s*>|<([^>\s]+)([^>/]*)(\/?)>|([^<]+)/suy;let o=e;const r=[];for(;n.lastIndex<t.length;)o=a(t,n,o,r);if(r.length)throw new Error(`Unexpected end of source: unclosed tag <${o.t}>`)}(t,e);const n=e.c.shift();if(!n||e.c.length)throw new Error("Create only one root element in your template");return n}function u(t,e){if(!(e&&"onerror"in e&&r(e.onerror)))throw t;e.onerror(t)}function f(t,e){return(...n)=>{try{const s=t.apply(e,n);return o(s)&&"catch"in s&&r(s.catch)?s.catch((t=>{u(t,e)})):s}catch(t){u(t,e)}return null}}const p=s();function m(t,e){let n=p[t];if(!n){try{n=c("event",`return (${t});`)}catch{n=c("event",t)}p[t]=n}return f(n,e)}function h(t,e){if(e.class){let n=(t.getAttribute("class")??"").trim();const o=e.class.trim();n&&o&&(n+=" "),t.setAttribute("class",n+o)}if(e.style){let n=(t.getAttribute("style")??"").trim();const o=e.style.trim();n&&o&&!n.endsWith(";")&&(n+="; "),t.setAttribute("style",n+o)}}function d(t,e,n){for(const[o,r]of Object.entries(e))if((null==n||"id"!==o)&&"for"!==o&&"class"!==o&&"style"!==o)if(n&&o.startsWith("on")){const e=m(r,n);t[o]=e}else t.setAttribute(o,r)}function w(t,e,n){d(t,e,n),h(t,e)}const y=new WeakMap;function g(t,e,n){if(!n)return;const o=["id","for"];for(const r of o){const o=t[r];if(null!=o){let t=y.get(n);t||(t={id:s(),for:s()},y.set(n,t)),t[r][o]=e}}}function b(t,e){const n=y.get(t);return n&&n.id[e]}function E(t,e,n){if("string"==typeof t)return document.createTextNode(t);const o=i(t.c.map((t=>E(t,e,n)))),r=n?.[t.t];if(r){const n={...t.a};"id"in n&&delete n.id;const s=new r(n,o,e);return g(t.a,s,e),"element"in s&&s.element instanceof Node?s.element:null}const s=document.createElement(t.t);w(s,t.a,e);for(const t of o)s.appendChild(t);return g(t.a,s,e),s}function T(t,e,n){const o=E(t,e,n);if(!(o instanceof HTMLElement))throw new Error("The root node must be an HTMLElement.");return o}function v(t,e,n){return T(l(t),e,n)}let $=0;function A(t,e){let{id:n}=e;n||($+=1,n=`t-component-global-id-${$}`,e.id=n),t.htmlFor=n}const C=new WeakMap;class j{static uses;static template="<div></div>";static parsedTemplate;element;parentComponent=null;static from(t){if(!o(t))return null;const e=C.get(t);return e instanceof this?e:null}constructor(t,e,n){const o=this.constructor;if(Object.hasOwn(o,"parsedTemplate")&&o.parsedTemplate||(o.parsedTemplate=l(o.template)),this.element=T(o.parsedTemplate,this,o.uses),t&&w(this.element,t,n),e)for(const t of e)this.element.appendChild(t);n instanceof j&&(this.parentComponent=n);const r=y.get(this);if(r)for(const t of Object.keys(r.for)){const e=r.for[t],n=r.id[t];e instanceof HTMLLabelElement&&n instanceof HTMLElement&&A(e,n)}C.get(this.element)||C.set(this.element,this)}id(t,e){const n=b(this,t);if(e&&!(n instanceof e))throw new Error(`Element with id "${t}" is not an instance of ${e.name}`);return n}onerror(t){if(!this.parentComponent)throw t;this.parentComponent.onerror(t)}}const x=j;var O=e.mT,F=e.sV,L=e.zj,M=e.JU,W=e.n,k=e.F5,H=e.Ay,I=e.h0,z=e.Tn,N=e.Gv,U=e.fX,q=e.zp,D=e.Zq,G=e.QC,J=e.st,P=e.rE,Q=e.ek;export{O as TComponent,F as bindLabel,L as buildElement,M as createDictionary,W as createElement,k as createEventFunction,H as default,I as getElementById,z as isFunction,N as isObject,U as mergeAttrs,q as mergeAttrsWithoutStyles,D as mergeStyles,G as parseTemplate,J as removeNull,P as version,Q as wrapFunctionWithErrorHandling};
//# sourceMappingURL=TComponent.mjs.map