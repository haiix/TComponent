var t={d:(e,n)=>{for(var s in n)t.o(n,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{iX:()=>s,mT:()=>E,sV:()=>b,zj:()=>y,n:()=>v,F5:()=>l,Ay:()=>x,h0:()=>g,J1:()=>a,Gv:()=>o,fX:()=>u,zp:()=>p,Zq:()=>f,QC:()=>r,Bb:()=>i,rE:()=>n});const n="1.0.0";class s{constructor(){this.src="",this.p=0,this.init("")}init(t){this.src=t,this.p=0}adv(t){this.p+=t}isDone(){return this.p>=this.src.length}c(){return this.src[this.p]??"\0"}isMatch(t){return this.src.startsWith(t,this.p)}getSpace(){let t="";for(;!this.isDone();){const e=this.c();if(" "!==e&&"\n"!==e&&"\t"!==e)break;t+=e,this.adv(1)}return t}getWord(){let t="";for(;!this.isDone();){const e=this.c(),n=e.charCodeAt(0);if((n<97||n>122)&&45!==n&&95!==n&&(n<65||n>90)&&(n<48||n>57)&&n<128)break;t+=e,this.adv(1)}return t}getTill(t){const e=this.src.indexOf(t,this.p);if(e<0)throw new SyntaxError("Unexpected end of input");const n=this.src.slice(this.p,e);return this.p=e,n}ignoreTill(t){const e=this.src.indexOf(t,this.p);if(e<0)throw new SyntaxError("Unexpected end of input");this.p=e+t.length}parseTags(){const t=[];for(;!this.isMatch("</");)if(this.isMatch("\x3c!--"))this.ignoreTill("--\x3e");else if(this.isMatch("<![CDATA["))this.adv(9),t.push(this.getTill("]]>")),this.adv(3);else if("<"===this.c())t.push(this.parseTag());else{const e=this.getSpace();"<"!==this.c()&&t.push(e+this.getTill("<"))}return t}parseTag(){this.adv(1);const t=this.getWord();if(""===t)throw new SyntaxError("No tag name");const e=this.parseAttrs();let n;if(">"===this.c()){if(this.adv(1),n=this.parseTags(),this.adv(2),this.getWord()!==t)throw new SyntaxError("Start and end tag name do not match");if(this.getSpace(),">"!==this.c())throw new SyntaxError("Tag is not closed");this.adv(1)}else{if(!this.isMatch("/>"))throw new SyntaxError("Tag is not closed");n=[],this.adv(2)}return{t,a:e,c:n}}parseAttrs(){const t={};this.getSpace();let e="";for(;e=this.getWord();){let n;if("="===this.c()){this.adv(1);const t=this.c();if('"'!==t&&"'"!==t)throw new SyntaxError("Attribute value does not start with \" or '");this.adv(1),n=this.getTill(t),this.adv(1)}else n=e;t[e]=n,this.getSpace()}return t}parse(t){this.init(t+"</");const e=this.parseTags();if(this.p!==this.src.length-2)throw new SyntaxError("Unexpected end tag");if(null==e[0]||e.length>1)throw new Error("Create only one root element in your template");return this.init(""),e[0]}}function r(t){return(new s).parse(t)}function i(t){return t.filter((t=>null!=t))}function o(t){return"object"==typeof t&&null!==t}function c(t,e){if(!e||!("onerror"in e)||"function"!=typeof e.onerror)throw t;e.onerror(t)}function a(t,e){if("function"!=typeof t)throw new Error;return(...n)=>{try{const s=t.apply(e,n);return o(s)&&"catch"in s&&"function"==typeof s.catch?s.catch((t=>{c(t,e)})):s}catch(t){c(t,e)}}}const h={};function l(t="",e){let n=h[t];if(!n){try{n=new Function("event",`return (${t});`)}catch{n=new Function("event",t)}h[t]=n}return a(n,e)}function f(t,e){if("string"==typeof e.class){let n=(t.getAttribute("class")??"").trim();const s=e.class.trim();""!==n&&""!==s&&(n+=" "),t.setAttribute("class",n+s)}if("string"==typeof e.style){let n=(t.getAttribute("style")??"").trim();const s=e.style.trim();""===n||""===s||n.endsWith(";")||(n+=";"),t.setAttribute("style",n+s)}}function p(t,e,n){for(const[s,r]of Object.entries(e))if("string"==typeof r&&!(n&&"id"===s||"for"===s||"class"===s||"style"===s))if(n&&s.startsWith("on")){const e=l(r,n);t.addEventListener(s.slice(2),e)}else t.setAttribute(s,r)}function u(t,e,n){p(t,e,n),f(t,e)}const d=new WeakMap;function m(t,e,n){if(!n)return;const s=["id","for"];for(const r of s){const s=t[r];if(null==s)continue;let i=d.get(n);i||(i={id:Object.create(null),for:Object.create(null)},d.set(n,i)),i[r][s]=e}}function g(t,e){const n=d.get(t);return n&&n.id[e]}function y(t,e,n){const s=w(t,e,n);if(!(s instanceof HTMLElement))throw new Error("The root node must be an HTMLElement.");return s}function w(t,e,n){if("string"==typeof t)return document.createTextNode(t);const s=i(t.c.map((t=>w(t,e,n)))),r=n?.[t.t];if(r){const n={...t.a};"id"in n&&delete n.id;const i=new r(n,s,e);return m(t.a,i,e),"element"in i&&i.element instanceof Node?i.element:void 0}const o=document.createElement(t.t);u(o,t.a,e);for(const t of s)o.appendChild(t);return m(t.a,o,e),o}function v(t,e,n){return y(r(t),e,n)}let T=0;function b(t,e){let n=e.id;n||(n="t-component-global-id-"+ ++T,e.id=n),t.htmlFor=n}class E{constructor(t,e,n){const s=this.constructor;if(Object.prototype.hasOwnProperty.call(s,"parsedTemplate")||(s.parsedTemplate=r(s.template)),this.element=y(s.parsedTemplate,this,s.uses),t&&u(this.element,t,n),e)for(const t of e)this.element.appendChild(t);n instanceof E&&(this.parentComponent=n);const i=d.get(this);if(i)for(const t in i.for){const e=i.for[t],n=i.id[t];e instanceof HTMLLabelElement&&n instanceof HTMLElement&&b(e,n)}}id(t){return g(this,t)}onerror(t){if(!this.parentComponent)throw t;this.parentComponent.onerror(t)}}E.template="<div></div>";const x=E;var S=e.iX,A=e.mT,C=e.sV,O=e.zj,j=e.n,M=e.F5,W=e.Ay,F=e.h0,L=e.J1,z=e.Gv,D=e.fX,H=e.zp,P=e.Zq,U=e.QC,X=e.Bb,k=e.rE;export{S as Parser,A as TComponent,C as bindLabel,O as buildElement,j as createElement,M as createEventFunction,W as default,F as getElementById,L as handleFunctionError,z as isObject,D as mergeAttrs,H as mergeAttrsWithoutStyles,P as mergeStyles,U as parseTemplate,X as removeUndefined,k as version};